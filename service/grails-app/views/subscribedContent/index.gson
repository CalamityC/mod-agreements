import groovy.transform.*
import java.util.Map
import org.olf.kb.TitleInstance

@Field
Map data

json {
  "total" (data.total)
  
  // Special case when you want to use a template for each collection entry.
  "results" g.render(template:"eResource", collection: data.results, var:'title')
  
//  "results" (data.results) { TitleInstance resultRow ->
//    g.render(template: "eResource", model:[title:resultRow])
//  }
}

